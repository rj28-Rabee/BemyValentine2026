<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Love Quiz ‚ù§Ô∏è</title>

<style>
body{
margin:0;
height:100vh;
display:flex;
justify-content:center;
align-items:center;
font-family:Arial;
background:linear-gradient(135deg,#ff758c,#ff7eb3);
color:white;
text-align:center;
transition:1s;
}

.container{
max-width:380px;
padding:20px;
animation:fade 0.6s ease;
}

@keyframes fade{
from{opacity:0;transform:scale(0.9);}
to{opacity:1;transform:scale(1);}
}

.message{
font-size:1.8rem;
min-height:90px;
animation:pop 0.5s ease;
}

@keyframes pop{
from{transform:scale(0.7);opacity:0;}
to{transform:scale(1);opacity:1;}
}

button{
padding:14px 30px;
border:none;
border-radius:30px;
margin:10px;
font-size:1.1rem;
cursor:pointer;
transition:0.3s;
}

button:hover{
transform:scale(1.05);
}

.yes{background:#4CAF50;color:white;}
.no{background:#f44336;color:white;}

.option{
display:block;
background:#2196F3;
color:white;
width:100%;
margin:12px 0;
}

textarea{
width:100%;
height:160px;
border-radius:15px;
padding:10px;
font-size:1rem;
}

.score{
margin-top:15px;
font-size:1.2rem;
}

.angry{
font-size:3rem;
animation:shake 0.4s infinite;
}

@keyframes shake{
0%{transform:translateX(0);}
25%{transform:translateX(-5px);}
50%{transform:translateX(5px);}
75%{transform:translateX(-5px);}
100%{transform:translateX(0);}
}
</style>
</head>

<body id="body">

<div class="container" id="content"></div>

<script>
const content=document.getElementById("content");
const body=document.getElementById("body");

let score=0;
let q=0;

// ===== TYPING EFFECT =====
function typeText(text, done){
content.innerHTML=`<div class="message" id="msg"></div>`;
let box=document.getElementById("msg");
let i=0;

let t=setInterval(()=>{
 box.innerHTML+= text[i]==="\n"?"<br>":text[i];
 i++;
 if(i>=text.length){
 clearInterval(t);
 if(done) done();
 }
},35);
}

// ===== START =====
typeText("Will you be my Valentine? üíò",()=>{
content.innerHTML+=`<button class="yes" onclick="intro()">YES ‚ù§Ô∏è</button>`;
});

function intro(){
typeText("I know you‚Äôre my Valentine dee vennamavalee üíïü•∞\n\nUna test pannalama? üòò‚ù§Ô∏è",()=>{
content.innerHTML+=`<button class="yes" onclick="nextQ()">YES ‚ù§Ô∏è</button>`;
});
}

// ===== QUESTIONS =====

function nextQ(){
q++;

if(q===1){
showOptions("Q1 ‚ù§Ô∏è Who I like the most?",
["Priya","Chicky"],0);
}

if(q===2){
showOptions("Q2 üì∏ 1st pic together?",
["9th June 2024","9th June 2023","9th Sep 2023","9th Dec 2023"],2);
}

if(q===3){
showOptions("Q3 üíã 1st forehead kiss?",
["15th June 2024","9th June 2024","2nd June 2024","3rd June 2023"],0);
}

if(q===4){
marriage();
}

if(q===5){
loveInput();
}

if(q===6){
finish();
}
}

function showOptions(text, opts, correct){
typeText(text, ()=>{
opts.forEach((o,i)=>{
let b=document.createElement("button");
b.className="option";
b.innerHTML=o;
b.onclick=()=> i===correct ? correctAns() : wrongAns(()=>showOptions(text,opts,correct));
content.appendChild(b);
});
content.innerHTML+=`<div class="score">Score: ${score}</div>`;
});
}

function correctAns(){
score++;
nextQ();
}

function wrongAns(retry){
content.innerHTML=`<div class="angry">üò°</div><div class="message">Wrong!</div>`;
setTimeout(retry,1200);
}

// ===== MARRIAGE QUESTION =====

let noSize=1;

function marriage(){
noSize=1;
content.innerHTML=`
<div class="message">Will you marry me? üíç</div>
<button class="yes" onclick="score++;nextQ()">YES ‚ù§Ô∏è</button>
<button class="no" id="noBtn" onclick="marryNo()">NO üíî</button>
<div class="score">Score: ${score}</div>
`;
}

function marryNo(){
let n=document.getElementById("noBtn");
noSize*=0.7;
n.style.transform=`scale(${noSize})`;

if(noSize>0.5){
content.querySelector(".message").innerHTML="Are you sure?? üòí";
}
else if(noSize>0.3){
content.querySelector(".message").innerHTML="Unaku ena vita evanum kedaika matan üò§";
}
else if(noSize>0.15){
content.querySelector(".message").innerHTML="Mooditu YES amuku dee üò°";
}
else{
typeText("Yes we can get married in 2026 üíçüòç",()=>setTimeout(nextQ,1200));
}
}

// ===== LOVE INPUT =====

function loveInput(){
content.innerHTML=`
<div class="message">Q5 ‚ù§Ô∏è One sentence to tell me</div>
<textarea id="loveText"></textarea>
<button class="yes" onclick="checkLove()">Submit üíñ</button>
<div class="score">Score: ${score}</div>
`;
}

function checkLove(){
let t=document.getElementById("loveText").value.toLowerCase();

if(t.includes("love")){
score++;
nextQ();
}
else{
wrongAns(loveInput);
}
}

// ===== FINAL =====

function finish(){
body.style.background="url('https://media.giphy.com/media/MDJ9IbxxvDUQM/giphy.gif') center/cover no-repeat";
typeText("üéâ Perfect Score Rani mavale üíñ\nYou passed üòòüêª‚ù§Ô∏è");
}
</script>

</body>
</html>
