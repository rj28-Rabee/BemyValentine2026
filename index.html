<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Be My Valentine ğŸ’–</title>

<style>
body{
    margin:0;
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    background:linear-gradient(135deg,#ff758c,#ff7eb3);
    font-family:Arial, sans-serif;
    overflow:hidden;
    transition:background 1s ease;
}

.container{
    text-align:center;
    color:white;
}

.message{
    font-size:2rem;
    line-height:1.4;
}

.buttonsBox{
    position:relative;
    width:320px;
    height:220px;
    margin:auto;
}

button{
    padding:14px 32px;
    font-size:1.1rem;
    border:none;
    border-radius:30px;
    cursor:pointer;
    margin:10px;
}

.mainYes{background:#4CAF50;color:white;}
.mainNo{
    background:#f44336;color:white;
    position:absolute;left:120px;top:90px;
    transition:0.2s;
}

.optionBtn{
    background:#2196F3;
    color:white;
    display:block;
    margin:15px auto;
    width:240px;
}

.score{
    margin-top:15px;
    font-size:1.3rem;
}

@media(max-width:600px){
    .message{font-size:1.5rem;}
}
</style>
</head>

<body id="body">

<div class="container" id="content">

<div class="message">Will you be my Valentine? ğŸ’˜</div>

<div class="buttonsBox">
<button class="mainYes" id="yesBtn">YES â¤ï¸</button>
<button class="mainNo" id="noBtn">NO ğŸ’”</button>
</div>

</div>

<script>
const content = document.getElementById("content");
const body = document.getElementById("body");
const noBtn = document.getElementById("noBtn");
const yesBtn = document.getElementById("yesBtn");
const box = document.querySelector(".buttonsBox");

let score = 0;
let qIndex = 0;

// Dodge NO
function dodge(){
  const maxX = box.clientWidth - noBtn.clientWidth;
  const maxY = box.clientHeight - noBtn.clientHeight;
  noBtn.style.left = Math.random()*maxX+"px";
  noBtn.style.top = Math.random()*maxY+"px";
}
document.addEventListener("mousemove", e=>{
  const r=noBtn.getBoundingClientRect();
  const d=Math.hypot(
    e.clientX-(r.left+r.width/2),
    e.clientY-(r.top+r.height/2)
  );
  if(d<80) dodge();
});
document.addEventListener("touchmove", dodge);

// First YES
yesBtn.onclick = showTestPage;

function showTestPage(){
  body.style.background="url('https://media.giphy.com/media/l0MYC0LajbaPoEADu/giphy.gif') center/cover no-repeat";
  content.innerHTML=`
  <div class="message">
  I know youâ€™re my Valentine dee vennamavalee ğŸ’•ğŸ¥°<br><br>
  Una test pannalama? ğŸ˜˜â¤ï¸
  </div>
  <button class="mainYes" onclick="startQuiz()">YES â¤ï¸</button>
  <button class="mainNo" style="position:static" onclick="angryPage()">NO ğŸ’”</button>
  `;
}

function angryPage(){
 body.style.background="url('https://media.giphy.com/media/11tTNkNy1SdXGg/giphy.gif') center/cover no-repeat";
 content.innerHTML=`
 <div class="message">Mooditu YES amuku dee ğŸ˜¤â¤ï¸</div>
 <button class="mainYes" onclick="showTestPage()">â¬… Back</button>
 `;
}

// QUESTIONS
const questions = [
 {q:"Who I like the most?", a:"Priya", b:"Chicky", correct:"A"},
 {q:"Who is my cute girl?", a:"Priya", b:"Friend", correct:"A"},
 {q:"Who owns my heart?", a:"Priya", b:"Nobody", correct:"A"},
 {q:"Who is my future?", a:"Priya", b:"Dream", correct:"A"},
 {q:"Who is my Valentine forever?", a:"Priya", b:"Someone else", correct:"A"}
];

function startQuiz(){
 qIndex=0;
 score=0;
 showQuestion();
}

function showQuestion(){
 body.style.background="linear-gradient(135deg,#ff758c,#ff7eb3)";
 let q=questions[qIndex];
 content.innerHTML=`
 <div class="message">Question ${qIndex+1} â¤ï¸<br>${q.q}</div>

 <button class="optionBtn" onclick="answer('A')">A) ${q.a}</button>
 <button class="optionBtn" onclick="answer('B')">B) ${q.b}</button>

 <div class="score">Score: ${score}</div>
 `;
}

function answer(choice){
 if(choice===questions[qIndex].correct){
   score++;
   nextStep(true);
 }else{
   nextStep(false);
 }
}

function nextStep(correct){
 if(!correct){
   body.style.background="url('https://media.giphy.com/media/3o6Zt481isNVuQI1l6/giphy.gif') center/cover no-repeat";
   content.innerHTML=`<div class="message">Wrong ğŸ˜¡ğŸ‘Š</div>`;
 }

 setTimeout(()=>{
   qIndex++;
   if(qIndex<5){
     showQuestion();
   }else{
     finishQuiz();
   }
 },2000);
}

// Final Screen
function finishQuiz(){
 body.style.background="url('https://media.giphy.com/media/MDJ9IbxxvDUQM/giphy.gif') center/cover no-repeat";

 content.innerHTML=`
 <div class="message">
 ğŸ‰ Congrats Rani mavale ğŸ’–<br>
 You passed ğŸ˜˜ğŸ»
 </div>
 <div class="score">Final Score: ${score}/5</div>
 `;
}
</script>

</body>
</html>
